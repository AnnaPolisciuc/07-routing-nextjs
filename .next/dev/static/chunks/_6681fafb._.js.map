{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/lib/api.ts"],"sourcesContent":["\nimport axios from \"axios\";\nimport type { NoteCreate, Note } from \"../types/note\";\n\nexport interface NoteResponse {\n  notes: Note[];\n  totalPages: number;\n  page: number;\n}\n\nconst TOKEN = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\n\nconst api = axios.create({\n  baseURL: \"https://notehub-public.goit.study/api/notes\",\n  headers: {\n    Authorization: `Bearer ${TOKEN}`,\n  },\n});\n\n\nexport async function fetchNotes(page = 1, perPage = 12, search = ''): Promise<NoteResponse> {\n  const params: Record<string, string | number> = { page, perPage };\n  if (search.trim()) params.search = search.trim();\n\n  const { data } = await api.get<NoteResponse>(\"/\", { params }); \n  return data;\n}\n\n\nexport async function createNote(note: NoteCreate): Promise<Note> {\n  const { data } = await api.post<Note>(\"/\", note);\n  return data;\n}\n\n\nexport async function deleteNote(id: string): Promise<Note> {\n  const { data } = await api.delete<Note>(`/${id}`);\n  return data;\n}\n\n\nexport async function fetchNoteById(id: string): Promise<Note> {\n  console.log(\"API call for note ID:\", id);\n  if (!id) throw new Error(\"Note id is required\");\n  const response = await api.get<Note>(`/${id}`);\n  return response.data;\n}\n\nexport async function fetchNotesByTag(tag?: string, page = 1, perPage = 12): Promise<NoteResponse> {\n  const params: Record<string, string | number> = { page, perPage };\n  \n  if (tag && tag !== \"all\") params.tag = tag; \n\n  const { data } = await api.get<NoteResponse>(\"/\", { params });\n  return data;\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAUc;AATd;;AASA,MAAM;AAEN,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,eAAe,CAAC,OAAO,EAAE,OAAO;IAClC;AACF;AAGO,eAAe,WAAW,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,SAAS,EAAE;IAClE,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAChE,IAAI,OAAO,IAAI,IAAI,OAAO,MAAM,GAAG,OAAO,IAAI;IAE9C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAe,KAAK;QAAE;IAAO;IAC3D,OAAO;AACT;AAGO,eAAe,WAAW,IAAgB;IAC/C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAO,KAAK;IAC3C,OAAO;AACT;AAGO,eAAe,WAAW,EAAU;IACzC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,MAAM,CAAO,CAAC,CAAC,EAAE,IAAI;IAChD,OAAO;AACT;AAGO,eAAe,cAAc,EAAU;IAC5C,QAAQ,GAAG,CAAC,yBAAyB;IACrC,IAAI,CAAC,IAAI,MAAM,IAAI,MAAM;IACzB,MAAM,WAAW,MAAM,IAAI,GAAG,CAAO,CAAC,CAAC,EAAE,IAAI;IAC7C,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,gBAAgB,GAAY,EAAE,OAAO,CAAC,EAAE,UAAU,EAAE;IACxE,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAEhE,IAAI,OAAO,QAAQ,OAAO,OAAO,GAAG,GAAG;IAEvC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAe,KAAK;QAAE;IAAO;IAC3D,OAAO;AACT","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteList/NoteList.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"NoteList-module__LCs_aq__button\",\n  \"content\": \"NoteList-module__LCs_aq__content\",\n  \"deleteButton\": \"NoteList-module__LCs_aq__deleteButton\",\n  \"footer\": \"NoteList-module__LCs_aq__footer\",\n  \"link\": \"NoteList-module__LCs_aq__link\",\n  \"list\": \"NoteList-module__LCs_aq__list\",\n  \"listItem\": \"NoteList-module__LCs_aq__listItem\",\n  \"tag\": \"NoteList-module__LCs_aq__tag\",\n  \"title\": \"NoteList-module__LCs_aq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/NoteList/NoteList.tsx"],"sourcesContent":["\"use client\";\n\nimport css from \"./NoteList.module.css\";\nimport type { Note } from \"@/types/note\";\nimport Link from \"next/link\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { deleteNote } from \"@/lib/api\";\nimport { useState } from \"react\";\n\ninterface NoteListProps {\n  notes: Note[];\n}\n\nexport default function NoteList({ notes }: NoteListProps) {\n  const queryClient = useQueryClient();\n  const [deletingId, setDeletingId] = useState<string | null>(null);\n  const [errorId, setErrorId] = useState<string | null>(null);\n\n  const mutation = useMutation({\n    mutationFn: (id: string) => deleteNote(id),\n    onMutate: (id) => {\n      setDeletingId(id);\n      setErrorId(null);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({queryKey: [\"notes\"]});\n      setDeletingId(null);\n    },\n    onError: (_, id) => {\n      setErrorId(id);\n      setDeletingId(null);\n    },\n  });\n\n  if (!notes.length) {\n    return <p className={css.message}>No notes found.</p>;\n  }\n\n  return (\n    <ul className={css.list}>\n      {notes.map((note) => (\n        <li key={note.id} className={css.listItem}>\n          <h3 className={css.title}>{note.title}</h3>\n          <span className={css.tag}>{note.tag}</span>\n          <p className={css.content}>{note.content.slice(0, 100)}...</p>\n          \n          <div className={css.actions}>\n            <button\n              className={css.deleteButton}\n              disabled={deletingId === note.id}\n              onClick={() => mutation.mutate(note.id)}\n            >\n              {deletingId === note.id ? \"Deleting...\" : \"Delete note\"}\n            </button>\n            {errorId === note.id && (\n              <div className={css.error}>Failed to delete note. Please try again.</div>\n            )}\n          </div>\n          <Link\n  href={`/notes/${note.id}`} // путь к модальному маршруту\n  className={css.link}\n>\n  View details\n</Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AACA;AACA;;;AAPA;;;;;;AAae,SAAS,SAAS,EAAE,KAAK,EAAiB;;IACvD,MAAM,cAAc,IAAA,2MAAc;IAClC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAgB;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAgB;IAEtD,MAAM,WAAW,IAAA,gMAAW,EAAC;QAC3B,UAAU;8CAAE,CAAC,KAAe,IAAA,2HAAU,EAAC;;QACvC,QAAQ;8CAAE,CAAC;gBACT,cAAc;gBACd,WAAW;YACb;;QACA,SAAS;8CAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAC,UAAU;wBAAC;qBAAQ;gBAAA;gBAClD,cAAc;YAChB;;QACA,OAAO;8CAAE,CAAC,GAAG;gBACX,WAAW;gBACX,cAAc;YAChB;;IACF;IAEA,IAAI,CAAC,MAAM,MAAM,EAAE;QACjB,qBAAO,6LAAC;YAAE,WAAW,4JAAG,CAAC,OAAO;sBAAE;;;;;;IACpC;IAEA,qBACE,6LAAC;QAAG,WAAW,4JAAG,CAAC,IAAI;kBACpB,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;gBAAiB,WAAW,4JAAG,CAAC,QAAQ;;kCACvC,6LAAC;wBAAG,WAAW,4JAAG,CAAC,KAAK;kCAAG,KAAK,KAAK;;;;;;kCACrC,6LAAC;wBAAK,WAAW,4JAAG,CAAC,GAAG;kCAAG,KAAK,GAAG;;;;;;kCACnC,6LAAC;wBAAE,WAAW,4JAAG,CAAC,OAAO;;4BAAG,KAAK,OAAO,CAAC,KAAK,CAAC,GAAG;4BAAK;;;;;;;kCAEvD,6LAAC;wBAAI,WAAW,4JAAG,CAAC,OAAO;;0CACzB,6LAAC;gCACC,WAAW,4JAAG,CAAC,YAAY;gCAC3B,UAAU,eAAe,KAAK,EAAE;gCAChC,SAAS,IAAM,SAAS,MAAM,CAAC,KAAK,EAAE;0CAErC,eAAe,KAAK,EAAE,GAAG,gBAAgB;;;;;;4BAE3C,YAAY,KAAK,EAAE,kBAClB,6LAAC;gCAAI,WAAW,4JAAG,CAAC,KAAK;0CAAE;;;;;;;;;;;;kCAG/B,6LAAC,0KAAI;wBACb,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;wBACzB,WAAW,4JAAG,CAAC,IAAI;kCACpB;;;;;;;eApBgB,KAAK,EAAE;;;;;;;;;;AA2BxB;GAvDwB;;QACF,2MAAc;QAIjB,gMAAW;;;KALN","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Pagination/Pagination.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"Pagination-module__QyWOzW__active\",\n  \"pagination\": \"Pagination-module__QyWOzW__pagination\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/Pagination/Pagination.tsx"],"sourcesContent":["\"use client\";\n\nimport ReactPaginate from \"react-paginate\";\nimport css from \"./Pagination.module.css\";\n\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n}\n\nexport default function Pagination({ currentPage, totalPages, onPageChange }: PaginationProps) {\n  return (\n    <ReactPaginate\n      pageCount={totalPages}\n      forcePage={currentPage - 1} \n      onPageChange={(selected) => onPageChange(selected.selected + 1)}\n      containerClassName={css.pagination}\n      pageClassName={css.page}\n      activeClassName={css.active}\n      previousLabel={\"<\"}\n      nextLabel={\">\"}\n      breakLabel={\"...\"}\n      marginPagesDisplayed={1}\n      pageRangeDisplayed={3}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,YAAY,EAAmB;IAC3F,qBACE,6LAAC,4KAAa;QACZ,WAAW;QACX,WAAW,cAAc;QACzB,cAAc,CAAC,WAAa,aAAa,SAAS,QAAQ,GAAG;QAC7D,oBAAoB,gKAAG,CAAC,UAAU;QAClC,eAAe,gKAAG,CAAC,IAAI;QACvB,iBAAiB,gKAAG,CAAC,MAAM;QAC3B,eAAe;QACf,WAAW;QACX,YAAY;QACZ,sBAAsB;QACtB,oBAAoB;;;;;;AAG1B;KAhBwB","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/app/loading.tsx"],"sourcesContent":["export default function Loading() {\n    return (\n      <div style={{ padding: 20, textAlign: \"center\" }}>\n        Loading…\n      </div>\n    );\n  }\n  "],"names":[],"mappings":";;;;;;AAAe,SAAS;IACpB,qBACE,6LAAC;QAAI,OAAO;YAAE,SAAS;YAAI,WAAW;QAAS;kBAAG;;;;;;AAItD;KANsB","debugId":null}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/NotesPage/NotesPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { fetchNotesByTag, NoteResponse } from \"@/lib/api\";\nimport NotesList from \"@/components/NoteList/NoteList\";\nimport Pagination from \"@/components/Pagination/Pagination\";\nimport Loading from \"../../app/loading\";\nimport ErrorComponent from \"../../app/\";\n\ninterface NotesPageProps {\n  tag: string; // приходит из FilteredNotesPage\n}\n\nexport default function NotesPage({ tag }: NotesPageProps) {\n  const [page, setPage] = useState<number>(1);\n\n  // Сбрасываем страницу на 1 при смене тега\n  useEffect(() => {\n    setPage(1);\n  }, [tag]);\n\n  // useQuery с зависимостью от тега и страницы\n  const queryKey = useMemo(() => [\"notes\", tag, page], [tag, page]);\n  const { data, isLoading, error, isFetching } = useQuery<NoteResponse, Error>({\n    queryKey,\n    queryFn: () => fetchNotesByTag(tag, page, 12),\n    keepPreviousData: true, // чтобы не мерцала старая страница\n    staleTime: 1000 * 5,\n  });\n\n  if (isLoading) return <Loading />;\n  if (error || !data)\n    return <ErrorComponent error={error ?? new Error(\"No data\")} reset={() => setPage(1)} />;\n\n  const notes = data.notes ?? [];\n  const totalPages = data.totalPages ?? 1;\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n      {isFetching && <span>Loading…</span>}\n\n      <NotesList notes={notes} />\n\n      {totalPages > 1 && (\n        <Pagination\n          currentPage={page}\n          totalPages={totalPages}\n          onPageChange={(p) => setPage(p)}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAPA;;;;;;;;AAce,SAAS,UAAU,EAAE,GAAG,EAAkB;;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAS;IAEzC,0CAA0C;IAC1C,IAAA,0KAAS;+BAAC;YACR,QAAQ;QACV;8BAAG;QAAC;KAAI;IAER,6CAA6C;IAC7C,MAAM,WAAW,IAAA,wKAAO;uCAAC,IAAM;gBAAC;gBAAS;gBAAK;aAAK;sCAAE;QAAC;QAAK;KAAK;IAChE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,IAAA,0LAAQ,EAAsB;QAC3E;QACA,OAAO;kCAAE,IAAM,IAAA,gIAAe,EAAC,KAAK,MAAM;;QAC1C,kBAAkB;QAClB,WAAW,OAAO;IACpB;IAEA,IAAI,WAAW,qBAAO,6LAAC,6HAAO;;;;;IAC9B,IAAI,SAAS,CAAC,MACZ,qBAAO,6LAAC;QAAe,OAAO,SAAS,IAAI,MAAM;QAAY,OAAO,IAAM,QAAQ;;;;;;IAEpF,MAAM,QAAQ,KAAK,KAAK,IAAI,EAAE;IAC9B,MAAM,aAAa,KAAK,UAAU,IAAI;IAEtC,qBACE,6LAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,eAAe;YAAU,KAAK;QAAO;;YACjE,4BAAc,6LAAC;0BAAK;;;;;;0BAErB,6LAAC,iJAAS;gBAAC,OAAO;;;;;;YAEjB,aAAa,mBACZ,6LAAC,qJAAU;gBACT,aAAa;gBACb,YAAY;gBACZ,cAAc,CAAC,IAAM,QAAQ;;;;;;;;;;;;AAKvC;GAvCwB;;QAUyB,0LAAQ;;;KAVjC","debugId":null}}]
}