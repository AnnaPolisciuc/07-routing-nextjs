{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/lib/api.ts"],"sourcesContent":["\nimport axios from \"axios\";\nimport type { NoteCreate, Note } from \"../types/note\";\n\nexport interface NoteResponse {\n  notes: Note[];\n  totalPages: number;\n  page: number;\n}\n\nconst TOKEN = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\n\nconst api = axios.create({\n  baseURL: \"https://notehub-public.goit.study/api/notes\",\n  headers: {\n    Authorization: `Bearer ${TOKEN}`,\n  },\n});\n\n\nexport async function fetchNotes(page = 1, perPage = 12, search = ''): Promise<NoteResponse> {\n  const params: Record<string, string | number> = { page, perPage };\n  if (search.trim()) params.search = search.trim();\n\n  const { data } = await api.get<NoteResponse>(\"/\", { params }); \n  return data;\n}\n\n\nexport async function createNote(note: NoteCreate): Promise<Note> {\n  const { data } = await api.post<Note>(\"/\", note);\n  return data;\n}\n\n\nexport async function deleteNote(id: string): Promise<Note> {\n  const { data } = await api.delete<Note>(`/${id}`);\n  return data;\n}\n\n\nexport async function fetchNoteById(id: string): Promise<Note> {\n  console.log(\"API call for note ID:\", id);\n  if (!id) throw new Error(\"Note id is required\");\n  const response = await api.get<Note>(`/${id}`);\n  return response.data;\n}\n\nexport async function fetchNotesByTag(tag?: string, page = 1, perPage = 12): Promise<NoteResponse> {\n  const params: Record<string, string | number> = { page, perPage };\n  \n  if (tag && tag !== \"all\") params.tag = tag; \n\n  const { data } = await api.get<NoteResponse>(\"/\", { params });\n  return data;\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AACA;;AASA,MAAM;AAEN,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,eAAe,CAAC,OAAO,EAAE,OAAO;IAClC;AACF;AAGO,eAAe,WAAW,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,SAAS,EAAE;IAClE,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAChE,IAAI,OAAO,IAAI,IAAI,OAAO,MAAM,GAAG,OAAO,IAAI;IAE9C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAe,KAAK;QAAE;IAAO;IAC3D,OAAO;AACT;AAGO,eAAe,WAAW,IAAgB;IAC/C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAO,KAAK;IAC3C,OAAO;AACT;AAGO,eAAe,WAAW,EAAU;IACzC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,MAAM,CAAO,CAAC,CAAC,EAAE,IAAI;IAChD,OAAO;AACT;AAGO,eAAe,cAAc,EAAU;IAC5C,QAAQ,GAAG,CAAC,yBAAyB;IACrC,IAAI,CAAC,IAAI,MAAM,IAAI,MAAM;IACzB,MAAM,WAAW,MAAM,IAAI,GAAG,CAAO,CAAC,CAAC,EAAE,IAAI;IAC7C,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,gBAAgB,GAAY,EAAE,OAAO,CAAC,EAAE,UAAU,EAAE;IACxE,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAEhE,IAAI,OAAO,QAAQ,OAAO,OAAO,GAAG,GAAG;IAEvC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAe,KAAK;QAAE;IAAO;IAC3D,OAAO;AACT","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/app/notes/Notes.client.tsx"],"sourcesContent":["// // app/notes/Notes.client.tsx\n// \"use client\";\n\n// import { useState, useEffect, useMemo } from \"react\";\n// import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\n// import { fetchNotes, createNote, NoteResponse } from \"@/lib/api\";\n// import type { NoteCreate } from \"@/types/note\";\n// import NotesList from \"@/components/NoteList/NoteList\";\n// import Pagination from \"@/components/Pagination/Pagination\";\n// import Loading from \"./loading\";\n// import ErrorComponent from \"./error\";\n// import Modal from \"@/components/Modal/Modal\";\n// import NoteForm from \"@/components/NoteForm/NoteForm\";\n// import SearchBox from \"@/components/SearchBox/SearchBox\";\n\n\n\n// export default function NotesClient( ) {\n//   const [page, setPage] = useState<number>(1);\n//   const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\n//   const [searchQuery, setSearchQuery] = useState<string>(\"\");\n//   const [debounced, setDebounced] = useState<string>(\"\");\n\n//   const queryClient = useQueryClient();\n\n//   useEffect(() => {\n//     const t = setTimeout(() => {\n//       setDebounced(searchQuery);\n//       setPage(1); \n//     }, 300);\n\n//     return () => clearTimeout(t);\n//   }, [searchQuery]);\n\n//   const queryKey = useMemo(() => [\"notes\", page, debounced], [page, debounced]);\n\n//   const {\n//     data,\n//     isLoading,\n//     error,\n//     isFetching, \n//   } = useQuery<NoteResponse, Error>({\n//     queryKey,\n//     queryFn: () => fetchNotes(page, 12, debounced), \n//     staleTime: 1000 * 5,\n//     placeholderData: (prevData) => prevData,\n//   });\n\n//   const addMutation = useMutation({\n//     mutationFn: (payload: NoteCreate) => createNote(payload),\n//     onSuccess: () => {\n//       queryClient.invalidateQueries({ queryKey: [\"notes\"] });\n//       setIsModalOpen(false);\n//     },\n//     onError: (err) => {\n//       console.error(\"Create note error\", err);\n//       alert(\"Failed to create note\");\n//     },\n//   });\n\n\n//   const handleSearchChange = (value: string) => {\n//     setSearchQuery(value);\n//   };\n\n//   if (isLoading) return <Loading />;\n//   if (error || !data) return <ErrorComponent error={error ?? new Error(\"No data\")} reset={() => setPage(1)} />;\n\n//   const notes = data.notes ?? [];\n//   const totalPages = data.totalPages ?? 1;\n\n//   return (\n//     <div>\n//       <div>\n//         <button\n//           onClick={() => setIsModalOpen(true)}\n//           style={{\n//             backgroundColor: '#0d6efd',\n//             color: '#fff',\n//             border: 'none',\n//             borderRadius: '6px',\n//             padding: '10px 16px',\n//             fontSize: '15px',\n//             cursor: 'pointer',\n//             transition: 'background-color 0.2s ease, transform 0.1s ease',\n//             margin: 20\n            \n//           }}\n//           onMouseOver={(e) => (e.currentTarget.style.backgroundColor = '#0b5ed7')}\n//           onMouseOut={(e) => (e.currentTarget.style.backgroundColor = '#0d6efd')}\n//           onMouseDown={(e) => (e.currentTarget.style.transform = 'scale(0.97)')}\n//           onMouseUp={(e) => (e.currentTarget.style.transform = 'scale(1)')}\n//         >\n//           Create Note +\n//         </button>\n\n//         <SearchBox value={searchQuery} onChange={handleSearchChange} />\n//         {isFetching && <span style={{ marginLeft: 8 }}>Loadingâ€¦</span>}\n//       </div>\n\n//       {isModalOpen && (\n//         <Modal onClose={() => setIsModalOpen(false)}>\n//           <NoteForm onClose={() => setIsModalOpen(false)} />\n//         </Modal>\n//       )}\n// {totalPages > 1 && (\n//         <Pagination currentPage={page} totalPages={totalPages} onPageChange={(p) => setPage(p)} />\n//       )}\n//       <NotesList notes={notes} />\n\n      \n//     </div>\n//   );\n// }\n"],"names":[],"mappings":"AAAA,gCAAgC;AAChC,gBAAgB;AAEhB,wDAAwD;AACxD,iFAAiF;AACjF,oEAAoE;AACpE,kDAAkD;AAClD,0DAA0D;AAC1D,+DAA+D;AAC/D,mCAAmC;AACnC,wCAAwC;AACxC,gDAAgD;AAChD,yDAAyD;AACzD,4DAA4D;AAI5D,2CAA2C;AAC3C,iDAAiD;AACjD,oEAAoE;AACpE,gEAAgE;AAChE,4DAA4D;AAE5D,0CAA0C;AAE1C,sBAAsB;AACtB,mCAAmC;AACnC,mCAAmC;AACnC,qBAAqB;AACrB,eAAe;AAEf,oCAAoC;AACpC,uBAAuB;AAEvB,mFAAmF;AAEnF,YAAY;AACZ,YAAY;AACZ,iBAAiB;AACjB,aAAa;AACb,mBAAmB;AACnB,wCAAwC;AACxC,gBAAgB;AAChB,uDAAuD;AACvD,2BAA2B;AAC3B,+CAA+C;AAC/C,QAAQ;AAER,sCAAsC;AACtC,gEAAgE;AAChE,yBAAyB;AACzB,gEAAgE;AAChE,+BAA+B;AAC/B,SAAS;AACT,0BAA0B;AAC1B,iDAAiD;AACjD,wCAAwC;AACxC,SAAS;AACT,QAAQ;AAGR,oDAAoD;AACpD,6BAA6B;AAC7B,OAAO;AAEP,uCAAuC;AACvC,kHAAkH;AAElH,oCAAoC;AACpC,6CAA6C;AAE7C,aAAa;AACb,YAAY;AACZ,cAAc;AACd,kBAAkB;AAClB,iDAAiD;AACjD,qBAAqB;AACrB,0CAA0C;AAC1C,6BAA6B;AAC7B,8BAA8B;AAC9B,mCAAmC;AACnC,oCAAoC;AACpC,gCAAgC;AAChC,iCAAiC;AACjC,6EAA6E;AAC7E,yBAAyB;AAEzB,eAAe;AACf,qFAAqF;AACrF,oFAAoF;AACpF,mFAAmF;AACnF,8EAA8E;AAC9E,YAAY;AACZ,0BAA0B;AAC1B,oBAAoB;AAEpB,0EAA0E;AAC1E,0EAA0E;AAC1E,eAAe;AAEf,0BAA0B;AAC1B,wDAAwD;AACxD,+DAA+D;AAC/D,mBAAmB;AACnB,WAAW;AACX,uBAAuB;AACvB,qGAAqG;AACrG,WAAW;AACX,oCAAoC;AAGpC,aAAa;AACb,OAAO;AACP,IAAI","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/app/notes/page.tsx"],"sourcesContent":["import { HydrationBoundary, dehydrate, QueryClient } from \"@tanstack/react-query\";\nimport { fetchNotes } from \"@/lib/api\";\nimport NotesClient from \"./Notes.client\";\n\nexport default async function NotesPage() {\n  const queryClient = new QueryClient();\n\n  await queryClient.prefetchQuery({\n    queryKey: [\"notes\", 1, \"\"], \n    queryFn: () => fetchNotes(1, 12, \"\"), \n  });\n\n  const dehydratedState = dehydrate(queryClient);\n\n  return (\n    <HydrationBoundary state={dehydratedState}>\n      <NotesClient />\n    </HydrationBoundary>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,cAAc,IAAI,4LAAW;IAEnC,MAAM,YAAY,aAAa,CAAC;QAC9B,UAAU;YAAC;YAAS;YAAG;SAAG;QAC1B,SAAS,IAAM,IAAA,wHAAU,EAAC,GAAG,IAAI;IACnC;IAEA,MAAM,kBAAkB,IAAA,wLAAS,EAAC;IAElC,qBACE,8OAAC,yMAAiB;QAAC,OAAO;kBACxB,cAAA,8OAAC,2IAAW;;;;;;;;;;AAGlB","debugId":null}}]
}