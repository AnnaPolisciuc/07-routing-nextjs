{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/lib/api.ts"],"sourcesContent":["\nimport axios from \"axios\";\nimport type { NoteCreate, Note } from \"../types/note\";\n\nexport interface NoteResponse {\n  notes: Note[];\n  totalPages: number;\n  page: number;\n}\n\nconst TOKEN = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\n\nconst api = axios.create({\n  baseURL: \"https://notehub-public.goit.study/api/notes\",\n  headers: {\n    Authorization: `Bearer ${TOKEN}`,\n  },\n});\n\n\nexport async function fetchNotes(page = 1, perPage = 12, search = ''): Promise<NoteResponse> {\n  const params: Record<string, string | number> = { page, perPage };\n  if (search.trim()) params.search = search.trim();\n\n  const { data } = await api.get<NoteResponse>(\"/\", { params }); \n  return data;\n}\n\n\nexport async function createNote(note: NoteCreate): Promise<Note> {\n  const { data } = await api.post<Note>(\"/\", note);\n  return data;\n}\n\n\nexport async function deleteNote(id: string): Promise<Note> {\n  const { data } = await api.delete<Note>(`/${id}`);\n  return data;\n}\n\n\nexport async function fetchNoteById(id: string): Promise<Note> {\n  console.log(\"API call for note ID:\", id);\n  if (!id) throw new Error(\"Note id is required\");\n  const response = await api.get<Note>(`notes/${id}`);\n  return response.data;\n}\n\nexport async function fetchNotesByTag(tag?: string, page = 1, perPage = 12): Promise<NoteResponse> {\n  const params: Record<string, string | number> = { page, perPage };\n  \n  if (tag && tag !== \"all\") params.tag = tag; \n\n  const { data } = await api.get<NoteResponse>(\"/\", { params });\n  return data;\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AACA;;AASA,MAAM;AAEN,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,eAAe,CAAC,OAAO,EAAE,OAAO;IAClC;AACF;AAGO,eAAe,WAAW,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,SAAS,EAAE;IAClE,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAChE,IAAI,OAAO,IAAI,IAAI,OAAO,MAAM,GAAG,OAAO,IAAI;IAE9C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAe,KAAK;QAAE;IAAO;IAC3D,OAAO;AACT;AAGO,eAAe,WAAW,IAAgB;IAC/C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAO,KAAK;IAC3C,OAAO;AACT;AAGO,eAAe,WAAW,EAAU;IACzC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,MAAM,CAAO,CAAC,CAAC,EAAE,IAAI;IAChD,OAAO;AACT;AAGO,eAAe,cAAc,EAAU;IAC5C,QAAQ,GAAG,CAAC,yBAAyB;IACrC,IAAI,CAAC,IAAI,MAAM,IAAI,MAAM;IACzB,MAAM,WAAW,MAAM,IAAI,GAAG,CAAO,CAAC,MAAM,EAAE,IAAI;IAClD,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,gBAAgB,GAAY,EAAE,OAAO,CAAC,EAAE,UAAU,EAAE;IACxE,MAAM,SAA0C;QAAE;QAAM;IAAQ;IAEhE,IAAI,OAAO,QAAQ,OAAO,OAAO,GAAG,GAAG;IAEvC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAe,KAAK;QAAE;IAAO;IAC3D,OAAO;AACT","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteList/NoteList.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"NoteList-module__LCs_aq__button\",\n  \"content\": \"NoteList-module__LCs_aq__content\",\n  \"deleteButton\": \"NoteList-module__LCs_aq__deleteButton\",\n  \"footer\": \"NoteList-module__LCs_aq__footer\",\n  \"link\": \"NoteList-module__LCs_aq__link\",\n  \"list\": \"NoteList-module__LCs_aq__list\",\n  \"listItem\": \"NoteList-module__LCs_aq__listItem\",\n  \"tag\": \"NoteList-module__LCs_aq__tag\",\n  \"title\": \"NoteList-module__LCs_aq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/NoteList/NoteList.tsx"],"sourcesContent":["\"use client\";\n\nimport css from \"./NoteList.module.css\";\nimport type { Note } from \"@/types/note\";\nimport Link from \"next/link\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { deleteNote } from \"@/lib/api\";\nimport { useState } from \"react\";\n\ninterface NoteListProps {\n  notes: Note[];\n}\n\nexport default function NoteList({ notes }: NoteListProps) {\n  const queryClient = useQueryClient();\n  const [deletingId, setDeletingId] = useState<string | null>(null);\n  const [errorId, setErrorId] = useState<string | null>(null);\n\n  const mutation = useMutation({\n    mutationFn: (id: string) => deleteNote(id),\n    onMutate: (id) => {\n      setDeletingId(id);\n      setErrorId(null);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({queryKey: [\"notes\"]});\n      setDeletingId(null);\n    },\n    onError: (_, id) => {\n      setErrorId(id);\n      setDeletingId(null);\n    },\n  });\n\n  if (!notes.length) {\n    return <p className={css.message}>No notes found.</p>;\n  }\n\n  return (\n    <ul className={css.list}>\n      {notes.map((note) => (\n        <li key={note.id} className={css.listItem}>\n          <h3 className={css.title}>{note.title}</h3>\n          <span className={css.tag}>{note.tag}</span>\n          <p className={css.content}>{note.content.slice(0, 100)}...</p>\n          \n          <div className={css.actions}>\n            <button\n              className={css.deleteButton}\n              disabled={deletingId === note.id}\n              onClick={() => mutation.mutate(note.id)}\n            >\n              {deletingId === note.id ? \"Deleting...\" : \"Delete note\"}\n            </button>\n            {errorId === note.id && (\n              <div className={css.error}>Failed to delete note. Please try again.</div>\n            )}\n          </div>\n          <Link\n  href={`/notes/${note.id}`} // путь к модальному маршруту\n  className={css.link}\n>\n  View details\n</Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AACA;AACA;AAPA;;;;;;;AAae,SAAS,SAAS,EAAE,KAAK,EAAiB;IACvD,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IAEtD,MAAM,WAAW,IAAA,6LAAW,EAAC;QAC3B,YAAY,CAAC,KAAe,IAAA,wHAAU,EAAC;QACvC,UAAU,CAAC;YACT,cAAc;YACd,WAAW;QACb;QACA,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAC,UAAU;oBAAC;iBAAQ;YAAA;YAClD,cAAc;QAChB;QACA,SAAS,CAAC,GAAG;YACX,WAAW;YACX,cAAc;QAChB;IACF;IAEA,IAAI,CAAC,MAAM,MAAM,EAAE;QACjB,qBAAO,8OAAC;YAAE,WAAW,yJAAG,CAAC,OAAO;sBAAE;;;;;;IACpC;IAEA,qBACE,8OAAC;QAAG,WAAW,yJAAG,CAAC,IAAI;kBACpB,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;gBAAiB,WAAW,yJAAG,CAAC,QAAQ;;kCACvC,8OAAC;wBAAG,WAAW,yJAAG,CAAC,KAAK;kCAAG,KAAK,KAAK;;;;;;kCACrC,8OAAC;wBAAK,WAAW,yJAAG,CAAC,GAAG;kCAAG,KAAK,GAAG;;;;;;kCACnC,8OAAC;wBAAE,WAAW,yJAAG,CAAC,OAAO;;4BAAG,KAAK,OAAO,CAAC,KAAK,CAAC,GAAG;4BAAK;;;;;;;kCAEvD,8OAAC;wBAAI,WAAW,yJAAG,CAAC,OAAO;;0CACzB,8OAAC;gCACC,WAAW,yJAAG,CAAC,YAAY;gCAC3B,UAAU,eAAe,KAAK,EAAE;gCAChC,SAAS,IAAM,SAAS,MAAM,CAAC,KAAK,EAAE;0CAErC,eAAe,KAAK,EAAE,GAAG,gBAAgB;;;;;;4BAE3C,YAAY,KAAK,EAAE,kBAClB,8OAAC;gCAAI,WAAW,yJAAG,CAAC,KAAK;0CAAE;;;;;;;;;;;;kCAG/B,8OAAC,uKAAI;wBACb,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;wBACzB,WAAW,yJAAG,CAAC,IAAI;kCACpB;;;;;;;eApBgB,KAAK,EAAE;;;;;;;;;;AA2BxB","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Pagination/Pagination.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"Pagination-module__QyWOzW__active\",\n  \"pagination\": \"Pagination-module__QyWOzW__pagination\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/Pagination/Pagination.tsx"],"sourcesContent":["\"use client\";\n\nimport ReactPaginate from \"react-paginate\";\nimport css from \"./Pagination.module.css\";\n\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n}\n\nexport default function Pagination({ currentPage, totalPages, onPageChange }: PaginationProps) {\n  return (\n    <ReactPaginate\n      pageCount={totalPages}\n      forcePage={currentPage - 1} \n      onPageChange={(selected) => onPageChange(selected.selected + 1)}\n      containerClassName={css.pagination}\n      pageClassName={css.page}\n      activeClassName={css.active}\n      previousLabel={\"<\"}\n      nextLabel={\">\"}\n      breakLabel={\"...\"}\n      marginPagesDisplayed={1}\n      pageRangeDisplayed={3}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,YAAY,EAAmB;IAC3F,qBACE,8OAAC,yKAAa;QACZ,WAAW;QACX,WAAW,cAAc;QACzB,cAAc,CAAC,WAAa,aAAa,SAAS,QAAQ,GAAG;QAC7D,oBAAoB,6JAAG,CAAC,UAAU;QAClC,eAAe,6JAAG,CAAC,IAAI;QACvB,iBAAiB,6JAAG,CAAC,MAAM;QAC3B,eAAe;QACf,WAAW;QACX,YAAY;QACZ,sBAAsB;QACtB,oBAAoB;;;;;;AAG1B","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/app/loading.tsx"],"sourcesContent":["export default function Loading() {\n    return (\n      <div style={{ padding: 20, textAlign: \"center\" }}>\n        Loading…\n      </div>\n    );\n  }\n  "],"names":[],"mappings":";;;;;;AAAe,SAAS;IACpB,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;YAAI,WAAW;QAAS;kBAAG;;;;;;AAItD","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/app/notes/error.tsx"],"sourcesContent":["\"use client\";\n\ninterface ErrorProps {\n  error: Error;\n  reset: () => void;\n}\n\nexport default function ErrorComponent({ error, reset }: ErrorProps) {\n  return (\n    <div>\n     <p> Could not fetch the list of notes. {error.message}</p>\n     <button onClick={reset}>Try again</button>\n     </div>\n    );\n}"],"names":[],"mappings":";;;;;AAAA;;AAOe,SAAS,eAAe,EAAE,KAAK,EAAE,KAAK,EAAc;IACjE,qBACE,8OAAC;;0BACA,8OAAC;;oBAAE;oBAAqC,MAAM,OAAO;;;;;;;0BACrD,8OAAC;gBAAO,SAAS;0BAAO;;;;;;;;;;;;AAG7B","debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/NotesPage/NotesPage.tsx"],"sourcesContent":["// \"use client\";\n\n// import { useState, useEffect, useMemo } from \"react\";\n// import { useQuery } from \"@tanstack/react-query\";\n// import { fetchNotesByTag, NoteResponse } from \"@/lib/api\";\n// import NotesList from \"@/components/NoteList/NoteList\";\n// import Pagination from \"@/components/Pagination/Pagination\";\n// import Loading from \"../../app/loading\";\n// import ErrorComponent from \"../../app/notes/error\";\n\n// interface NotesPageProps {\n//   tag: string; // приходит из FilteredNotesPage\n// }\n\n// export default function NotesPage({ tag }: NotesPageProps) {\n//   const [page, setPage] = useState<number>(1);\n\n//   // Сбрасываем страницу на 1 при смене тега\n//  useEffect(() => {\n//   const t = setTimeout(() => setPage(1), 0);\n//   return () => clearTimeout(t);\n// }, [tag]);\n\n//   // useQuery с зависимостью от тега и страницы\n//   const queryKey = useMemo(() => [\"notes\", tag, page], [tag, page]);\n//   const { data, isLoading, error, isFetching } = useQuery<NoteResponse, Error>({\n//     queryKey,\n//     queryFn: () => fetchNotesByTag(tag, page, 12),\n//     staleTime: 1000 * 5,\n//   });\n\n//   if (isLoading) return <Loading />;\n//   if (error || !data)\n//     return <ErrorComponent error={error ?? new Error(\"No data\")} reset={() => setPage(1)} />;\n\n//   const notes = data.notes ?? [];\n//   const totalPages = data.totalPages ?? 1;\n\n//   return (\n//     <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n//       {isFetching && <span>Loading…</span>}\n\n//       <NotesList notes={notes} />\n\n//       {totalPages > 1 && (\n//         <Pagination\n//           currentPage={page}\n//           totalPages={totalPages}\n//           onPageChange={(p) => setPage(p)}\n//         />\n//       )}\n//     </div>\n//   );\n// }\n\"use client\";\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { fetchNotesByTag, NoteResponse } from \"@/lib/api\";\nimport NotesList from \"@/components/NoteList/NoteList\";\nimport Pagination from \"@/components/Pagination/Pagination\";\nimport Loading from \"../../app/loading\";\nimport ErrorComponent from \"../../app/notes/error\";\n\n\ninterface NotesPageProps {\n  tag?: string; // получаем из NotesClient\n}\n\nexport default function NotesPage({ tag }: NotesPageProps) {\n  const [page, setPage] = useState<number>(1);\n\n  // Сбрасываем страницу на 1 при смене тега\n  useEffect(() => {\n    // Сброс страницы при смене тега, безопасно\n    const timeout = setTimeout(() => {\n      setPage(1);\n    }, 0);\n    return () => clearTimeout(timeout);\n  }, [tag]);\n\n  const queryKey = useMemo(() => [\"notes\", tag, page], [tag, page]);\n  const { data, isLoading, error, isFetching } = useQuery<NoteResponse, Error>({\n    queryKey,\n    queryFn: () => fetchNotesByTag(tag, page, 12),\n    staleTime: 1000 * 5,\n  });\n\n  if (isLoading) return <Loading />;\n  if (error || !data)\n    return <ErrorComponent error={error ?? new Error(\"No data\")} reset={() => setPage(1)} />;\n\n  const notes = data.notes ?? [];\n  const totalPages = data.totalPages ?? 1;\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n      {isFetching && <span>Loading…</span>}\n\n      <NotesList notes={notes} />\n\n      {totalPages > 1 && (\n        <Pagination currentPage={page} totalPages={totalPages} onPageChange={setPage} />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;AAEhB,wDAAwD;AACxD,oDAAoD;AACpD,6DAA6D;AAC7D,0DAA0D;AAC1D,+DAA+D;AAC/D,2CAA2C;AAC3C,sDAAsD;AAEtD,6BAA6B;AAC7B,kDAAkD;AAClD,IAAI;AAEJ,+DAA+D;AAC/D,iDAAiD;AAEjD,+CAA+C;AAC/C,qBAAqB;AACrB,+CAA+C;AAC/C,kCAAkC;AAClC,aAAa;AAEb,kDAAkD;AAClD,uEAAuE;AACvE,mFAAmF;AACnF,gBAAgB;AAChB,qDAAqD;AACrD,2BAA2B;AAC3B,QAAQ;AAER,uCAAuC;AACvC,wBAAwB;AACxB,gGAAgG;AAEhG,oCAAoC;AACpC,6CAA6C;AAE7C,aAAa;AACb,8EAA8E;AAC9E,8CAA8C;AAE9C,oCAAoC;AAEpC,6BAA6B;AAC7B,sBAAsB;AACtB,+BAA+B;AAC/B,oCAAoC;AACpC,6CAA6C;AAC7C,aAAa;AACb,WAAW;AACX,aAAa;AACb,OAAO;AACP,IAAI;;;;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAee,SAAS,UAAU,EAAE,GAAG,EAAkB;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAS;IAEzC,0CAA0C;IAC1C,IAAA,kNAAS,EAAC;QACR,2CAA2C;QAC3C,MAAM,UAAU,WAAW;YACzB,QAAQ;QACV,GAAG;QACH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAI;IAER,MAAM,WAAW,IAAA,gNAAO,EAAC,IAAM;YAAC;YAAS;YAAK;SAAK,EAAE;QAAC;QAAK;KAAK;IAChE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,IAAA,uLAAQ,EAAsB;QAC3E;QACA,SAAS,IAAM,IAAA,6HAAe,EAAC,KAAK,MAAM;QAC1C,WAAW,OAAO;IACpB;IAEA,IAAI,WAAW,qBAAO,8OAAC,0HAAO;;;;;IAC9B,IAAI,SAAS,CAAC,MACZ,qBAAO,8OAAC,iIAAc;QAAC,OAAO,SAAS,IAAI,MAAM;QAAY,OAAO,IAAM,QAAQ;;;;;;IAEpF,MAAM,QAAQ,KAAK,KAAK,IAAI,EAAE;IAC9B,MAAM,aAAa,KAAK,UAAU,IAAI;IAEtC,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,eAAe;YAAU,KAAK;QAAO;;YACjE,4BAAc,8OAAC;0BAAK;;;;;;0BAErB,8OAAC,8IAAS;gBAAC,OAAO;;;;;;YAEjB,aAAa,mBACZ,8OAAC,kJAAU;gBAAC,aAAa;gBAAM,YAAY;gBAAY,cAAc;;;;;;;;;;;;AAI7E","debugId":null}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Modal/Modal.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"backdrop\": \"Modal-module__sR2AWG__backdrop\",\n  \"closeButton\": \"Modal-module__sR2AWG__closeButton\",\n  \"modal\": \"Modal-module__sR2AWG__modal\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/Modal/Modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { useRouter } from \"next/navigation\";\nimport css from \"./Modal.module.css\";\n\ninterface ModalProps {\n  children: React.ReactNode;\n  onClose?: () => void; \n}\n\nexport default function Modal({ children, onClose }: ModalProps) {\n  const router = useRouter();\n\n  const handleClose = () => {\n    if (onClose) onClose(); \n    else router.back();  \n  };\n\n  useEffect(() => {\n    const originalOverflow = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") handleClose();\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      document.body.style.overflow = originalOverflow;\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, []);\n\n  const handleBackdropClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (e.target === e.currentTarget) handleClose();\n  };\n\n  return createPortal(\n    <div\n      className={css.backdrop}\n      onClick={handleBackdropClick} \n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <div className={css.modal} onClick={(e) => e.stopPropagation()}>\n        {children}\n        <button onClick={handleClose} className={css.closeButton}>\n          ✕\n        </button>\n      </div>\n    </div>,\n    document.body\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAYe,SAAS,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAc;IAC7D,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,cAAc;QAClB,IAAI,SAAS;aACR,OAAO,IAAI;IAClB;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,mBAAmB,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ;QACrD,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAE/B,MAAM,gBAAgB,CAAC;YACrB,IAAI,EAAE,GAAG,KAAK,UAAU;QAC1B;QAEA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YAC/B,OAAO,mBAAmB,CAAC,WAAW;QACxC;IACF,GAAG,EAAE;IAEL,MAAM,sBAAsB,CAAC;QAC3B,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;IACpC;IAEA,qBAAO,IAAA,4NAAY,gBACjB,8OAAC;QACC,WAAW,mJAAG,CAAC,QAAQ;QACvB,SAAS;QACT,MAAK;QACL,cAAW;kBAEX,cAAA,8OAAC;YAAI,WAAW,mJAAG,CAAC,KAAK;YAAE,SAAS,CAAC,IAAM,EAAE,eAAe;;gBACzD;8BACD,8OAAC;oBAAO,SAAS;oBAAa,WAAW,mJAAG,CAAC,WAAW;8BAAE;;;;;;;;;;;;;;;;cAK9D,SAAS,IAAI;AAEjB","debugId":null}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteForm/NoteForm.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"NoteForm-module__XA_SlW__actions\",\n  \"cancelButton\": \"NoteForm-module__XA_SlW__cancelButton\",\n  \"error\": \"NoteForm-module__XA_SlW__error\",\n  \"form\": \"NoteForm-module__XA_SlW__form\",\n  \"formGroup\": \"NoteForm-module__XA_SlW__formGroup\",\n  \"input\": \"NoteForm-module__XA_SlW__input\",\n  \"select\": \"NoteForm-module__XA_SlW__select\",\n  \"submitButton\": \"NoteForm-module__XA_SlW__submitButton\",\n  \"textarea\": \"NoteForm-module__XA_SlW__textarea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 652, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/NoteForm/NoteForm.tsx"],"sourcesContent":["\"use client\";\n\nimport css from \"./NoteForm.module.css\";\nimport type { NoteCreate } from \"@/types/note\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { createNote } from \"@/lib/api\"; \nimport { Formik, Form, Field, ErrorMessage, FormikHelpers } from \"formik\";\nimport * as Yup from \"yup\";\n\ninterface NoteFormProps {\n  onClose?: () => void;\n}\n\n\ntype FormValues = {\n  title: string;\n  content: string;\n  tag: \"\" | NoteCreate[\"tag\"]; \n};\n\nconst NoteSchema = Yup.object().shape({\n  title: Yup.string()\n    .trim()\n    .required(\"Title is required\")\n    .min(3, \"Title must be 3 characters or more\")\n    .max(50, \"Title must be 50 characters or less\"),\n  content: Yup.string()\n    .trim()\n    .notRequired()\n    .max(500, \"Content must be 500 characters or less\"),\n  tag: Yup.mixed<NoteCreate[\"tag\"]>()\n    .oneOf([\"Todo\", \"Work\", \"Personal\", \"Meeting\", \"Shopping\"], \"Please select a valid tag\")\n    .required(\"Tag is required\"),\n});\n\n\nexport default function NoteForm({ onClose }: NoteFormProps) {\n  const queryClient = useQueryClient();\n\nconst mutation = useMutation({\n  mutationFn: (note: NoteCreate) => createNote(note),\n  onSuccess: () => {\n    queryClient.invalidateQueries({ queryKey: [\"notes\"] }); \n    if (onClose) onClose(); \n  },\n});\n\n\n  return (\n    <Formik<FormValues>\n      initialValues={{\n        title: \"\",\n        content: \"\",\n        tag: \"\", \n      }}\n      validationSchema={NoteSchema}\n      onSubmit={(values, \n        { resetForm }: FormikHelpers<FormValues>) => {\n          mutation.mutate(values as NoteCreate);\n      resetForm();\n      }}\n    >\n      {() => (\n        <Form className={css.form}>\n          <Field\n            className={css.input}\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <ErrorMessage name=\"title\" component=\"div\" className={css.error} />\n          <Field\n            as=\"textarea\"\n            className={css.textarea}\n            name=\"content\"\n            placeholder=\"Content\"\n          />\n          <ErrorMessage name=\"content\" component=\"div\" className={css.error} />\n          <Field as=\"select\" name=\"tag\" className={css.select}>\n            <option value=\"\">Select tag</option>\n            <option value=\"Todo\">Todo</option>\n            <option value=\"Personal\">Personal</option>\n            <option value=\"Work\">Work</option>\n            <option value=\"Meeting\">Meeting</option>\n            <option value=\"Shopping\">Shopping</option>\n          </Field>\n          <ErrorMessage name=\"tag\" component=\"div\" className={css.error} />\n\n          <button className={css.submitButton} type=\"submit\">\n            Create Note\n          </button>\n          {onClose && (\n          <button type=\"button\" className={css.cancelButton} onClick={onClose}>\n         Cancel\n  </button>\n)}\n        </Form>\n      )}\n    </Formik>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;AAoBA,MAAM,aAAa,6IAAU,GAAG,KAAK,CAAC;IACpC,OAAO,6IAAU,GACd,IAAI,GACJ,QAAQ,CAAC,qBACT,GAAG,CAAC,GAAG,sCACP,GAAG,CAAC,IAAI;IACX,SAAS,6IAAU,GAChB,IAAI,GACJ,WAAW,GACX,GAAG,CAAC,KAAK;IACZ,KAAK,4IAAS,GACX,KAAK,CAAC;QAAC;QAAQ;QAAQ;QAAY;QAAW;KAAW,EAAE,6BAC3D,QAAQ,CAAC;AACd;AAGe,SAAS,SAAS,EAAE,OAAO,EAAiB;IACzD,MAAM,cAAc,IAAA,wMAAc;IAEpC,MAAM,WAAW,IAAA,6LAAW,EAAC;QAC3B,YAAY,CAAC,OAAqB,IAAA,wHAAU,EAAC;QAC7C,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;YACpD,IAAI,SAAS;QACf;IACF;IAGE,qBACE,8OAAC,yJAAM;QACL,eAAe;YACb,OAAO;YACP,SAAS;YACT,KAAK;QACP;QACA,kBAAkB;QAClB,UAAU,CAAC,QACT,EAAE,SAAS,EAA6B;YACtC,SAAS,MAAM,CAAC;YACpB;QACA;kBAEC,kBACC,8OAAC,uJAAI;gBAAC,WAAW,yJAAG,CAAC,IAAI;;kCACvB,8OAAC,wJAAK;wBACJ,WAAW,yJAAG,CAAC,KAAK;wBACpB,MAAK;wBACL,MAAK;wBACL,aAAY;;;;;;kCAEd,8OAAC,+JAAY;wBAAC,MAAK;wBAAQ,WAAU;wBAAM,WAAW,yJAAG,CAAC,KAAK;;;;;;kCAC/D,8OAAC,wJAAK;wBACJ,IAAG;wBACH,WAAW,yJAAG,CAAC,QAAQ;wBACvB,MAAK;wBACL,aAAY;;;;;;kCAEd,8OAAC,+JAAY;wBAAC,MAAK;wBAAU,WAAU;wBAAM,WAAW,yJAAG,CAAC,KAAK;;;;;;kCACjE,8OAAC,wJAAK;wBAAC,IAAG;wBAAS,MAAK;wBAAM,WAAW,yJAAG,CAAC,MAAM;;0CACjD,8OAAC;gCAAO,OAAM;0CAAG;;;;;;0CACjB,8OAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,8OAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,8OAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,8OAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,8OAAC;gCAAO,OAAM;0CAAW;;;;;;;;;;;;kCAE3B,8OAAC,+JAAY;wBAAC,MAAK;wBAAM,WAAU;wBAAM,WAAW,yJAAG,CAAC,KAAK;;;;;;kCAE7D,8OAAC;wBAAO,WAAW,yJAAG,CAAC,YAAY;wBAAE,MAAK;kCAAS;;;;;;oBAGlD,yBACD,8OAAC;wBAAO,MAAK;wBAAS,WAAW,yJAAG,CAAC,YAAY;wBAAE,SAAS;kCAAS;;;;;;;;;;;;;;;;;AAQ/E","debugId":null}},
    {"offset": {"line": 848, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/SearchBox/SearchBox.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"input\": \"SearchBox-module__izN5UG__input\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/components/SearchBox/SearchBox.tsx"],"sourcesContent":["\"use client\";\n\nimport css from \"./SearchBox.module.css\";\n\ninterface SearchBoxProps {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport default function SearchBox({ value, onChange }: SearchBoxProps) {\n  return (\n    <div className={css.searchBox}>\n      <input\n        type=\"text\"\n        placeholder=\"Search notes...\"\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className={css.input}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAkB;IACnE,qBACE,8OAAC;QAAI,WAAW,2JAAG,CAAC,SAAS;kBAC3B,cAAA,8OAAC;YACC,MAAK;YACL,aAAY;YACZ,OAAO;YACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;YACxC,WAAW,2JAAG,CAAC,KAAK;;;;;;;;;;;AAI5B","debugId":null}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":["file:///Users/annapolisciuc/Desktop/Projects/07-routing-nextjs/app/notes/Notes.client.tsx"],"sourcesContent":["// // app/notes/Notes.client.tsx\n// \"use client\";\n\n// import { useState, useEffect, useMemo } from \"react\";\n// import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\n// import { fetchNotes, createNote, NoteResponse } from \"@/lib/api\";\n// import type { NoteCreate } from \"@/types/note\";\n// import NotesList from \"@/components/NoteList/NoteList\";\n// import Pagination from \"@/components/Pagination/Pagination\";\n// import Loading from \"./loading\";\n// import ErrorComponent from \"./error\";\n// import Modal from \"@/components/Modal/Modal\";\n// import NoteForm from \"@/components/NoteForm/NoteForm\";\n// import SearchBox from \"@/components/SearchBox/SearchBox\";\n\n\n\n// export default function NotesClient( ) {\n//   const [page, setPage] = useState<number>(1);\n//   const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\n//   const [searchQuery, setSearchQuery] = useState<string>(\"\");\n//   const [debounced, setDebounced] = useState<string>(\"\");\n\n//   const queryClient = useQueryClient();\n\n//   useEffect(() => {\n//     const t = setTimeout(() => {\n//       setDebounced(searchQuery);\n//       setPage(1); \n//     }, 300);\n\n//     return () => clearTimeout(t);\n//   }, [searchQuery]);\n\n//   const queryKey = useMemo(() => [\"notes\", page, debounced], [page, debounced]);\n\n//   const {\n//     data,\n//     isLoading,\n//     error,\n//     isFetching, \n//   } = useQuery<NoteResponse, Error>({\n//     queryKey,\n//     queryFn: () => fetchNotes(page, 12, debounced), \n//     staleTime: 1000 * 5,\n//     placeholderData: (prevData) => prevData,\n//   });\n\n//   const addMutation = useMutation({\n//     mutationFn: (payload: NoteCreate) => createNote(payload),\n//     onSuccess: () => {\n//       queryClient.invalidateQueries({ queryKey: [\"notes\"] });\n//       setIsModalOpen(false);\n//     },\n//     onError: (err) => {\n//       console.error(\"Create note error\", err);\n//       alert(\"Failed to create note\");\n//     },\n//   });\n\n\n//   const handleSearchChange = (value: string) => {\n//     setSearchQuery(value);\n//   };\n\n//   if (isLoading) return <Loading />;\n//   if (error || !data) return <ErrorComponent error={error ?? new Error(\"No data\")} reset={() => setPage(1)} />;\n\n//   const notes = data.notes ?? [];\n//   const totalPages = data.totalPages ?? 1;\n\n//   return (\n//     <div>\n//       <div>\n//         <button\n//           onClick={() => setIsModalOpen(true)}\n//           style={{\n//             backgroundColor: '#0d6efd',\n//             color: '#fff',\n//             border: 'none',\n//             borderRadius: '6px',\n//             padding: '10px 16px',\n//             fontSize: '15px',\n//             cursor: 'pointer',\n//             transition: 'background-color 0.2s ease, transform 0.1s ease',\n//             margin: 20\n            \n//           }}\n//           onMouseOver={(e) => (e.currentTarget.style.backgroundColor = '#0b5ed7')}\n//           onMouseOut={(e) => (e.currentTarget.style.backgroundColor = '#0d6efd')}\n//           onMouseDown={(e) => (e.currentTarget.style.transform = 'scale(0.97)')}\n//           onMouseUp={(e) => (e.currentTarget.style.transform = 'scale(1)')}\n//         >\n//           Create Note +\n//         </button>\n\n//         <SearchBox value={searchQuery} onChange={handleSearchChange} />\n//         {isFetching && <span style={{ marginLeft: 8 }}>Loading…</span>}\n//       </div>\n\n//       {isModalOpen && (\n//         <Modal onClose={() => setIsModalOpen(false)}>\n//           <NoteForm onClose={() => setIsModalOpen(false)} />\n//         </Modal>\n//       )}\n// {totalPages > 1 && (\n//         <Pagination currentPage={page} totalPages={totalPages} onPageChange={(p) => setPage(p)} />\n//       )}\n//       <NotesList notes={notes} />\n\n      \n//     </div>\n//   );\n// }\n\n\n\"use client\";\n\nimport { useState } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { createNote} from \"@/lib/api\";\nimport NotesPage from \"@/components/NotesPage/NotesPage\";\nimport Modal from \"@/components/Modal/Modal\";\nimport NoteForm from \"@/components/NoteForm/NoteForm\";\nimport SearchBox from \"@/components/SearchBox/SearchBox\";\nimport type { NoteCreate } from \"@/types/note\";\n\n\ninterface NotesClientProps {\n  tag?: string;\n}\n\nexport default function NotesClient({ tag }: NotesClientProps) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const queryClient = useQueryClient();\n\n  const addMutation = useMutation({\n    mutationFn: (payload: NoteCreate) => createNote(payload),\n    onSuccess: () => {  \n      queryClient.invalidateQueries({ queryKey: [\"notes\"] });\n      setIsModalOpen(false);\n    },\n    onError: (err) => {\n      console.error(\"Create note error\", err);\n      alert(\"Failed to create note\");\n    },\n  });\n\n  const handleSearchChange = (value: string) => setSearchQuery(value);\n\n  return (\n    <div>\n      <div style={{ display: \"flex\", gap: \"16px\", marginBottom: \"16px\" }}>\n        <button\n          onClick={() => setIsModalOpen(true)}\n          style={{\n            backgroundColor: \"#0d6efd\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: \"6px\",\n            padding: \"10px 16px\",\n            fontSize: \"15px\",\n            cursor: \"pointer\",\n            transition: \"background-color 0.2s ease, transform 0.1s ease\",\n          }}\n          onMouseOver={(e) => (e.currentTarget.style.backgroundColor = \"#0b5ed7\")}\n          onMouseOut={(e) => (e.currentTarget.style.backgroundColor = \"#0d6efd\")}\n          onMouseDown={(e) => (e.currentTarget.style.transform = \"scale(0.97)\")}\n          onMouseUp={(e) => (e.currentTarget.style.transform = \"scale(1)\")}\n        >\n          Create Note +\n        </button>\n\n        <SearchBox value={searchQuery} onChange={handleSearchChange} />\n      </div>\n\n      {isModalOpen && (\n        <Modal onClose={() => setIsModalOpen(false)}>\n          <NoteForm onClose={() => setIsModalOpen(false)} />\n        </Modal>\n      )}\n\n      {/* Передаём тег и поиск в NotesPage */}\n      <NotesPage tag={tag ?? \"all\"} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,gCAAgC;AAChC,gBAAgB;AAEhB,wDAAwD;AACxD,iFAAiF;AACjF,oEAAoE;AACpE,kDAAkD;AAClD,0DAA0D;AAC1D,+DAA+D;AAC/D,mCAAmC;AACnC,wCAAwC;AACxC,gDAAgD;AAChD,yDAAyD;AACzD,4DAA4D;AAI5D,2CAA2C;AAC3C,iDAAiD;AACjD,oEAAoE;AACpE,gEAAgE;AAChE,4DAA4D;AAE5D,0CAA0C;AAE1C,sBAAsB;AACtB,mCAAmC;AACnC,mCAAmC;AACnC,qBAAqB;AACrB,eAAe;AAEf,oCAAoC;AACpC,uBAAuB;AAEvB,mFAAmF;AAEnF,YAAY;AACZ,YAAY;AACZ,iBAAiB;AACjB,aAAa;AACb,mBAAmB;AACnB,wCAAwC;AACxC,gBAAgB;AAChB,uDAAuD;AACvD,2BAA2B;AAC3B,+CAA+C;AAC/C,QAAQ;AAER,sCAAsC;AACtC,gEAAgE;AAChE,yBAAyB;AACzB,gEAAgE;AAChE,+BAA+B;AAC/B,SAAS;AACT,0BAA0B;AAC1B,iDAAiD;AACjD,wCAAwC;AACxC,SAAS;AACT,QAAQ;AAGR,oDAAoD;AACpD,6BAA6B;AAC7B,OAAO;AAEP,uCAAuC;AACvC,kHAAkH;AAElH,oCAAoC;AACpC,6CAA6C;AAE7C,aAAa;AACb,YAAY;AACZ,cAAc;AACd,kBAAkB;AAClB,iDAAiD;AACjD,qBAAqB;AACrB,0CAA0C;AAC1C,6BAA6B;AAC7B,8BAA8B;AAC9B,mCAAmC;AACnC,oCAAoC;AACpC,gCAAgC;AAChC,iCAAiC;AACjC,6EAA6E;AAC7E,yBAAyB;AAEzB,eAAe;AACf,qFAAqF;AACrF,oFAAoF;AACpF,mFAAmF;AACnF,8EAA8E;AAC9E,YAAY;AACZ,0BAA0B;AAC1B,oBAAoB;AAEpB,0EAA0E;AAC1E,0EAA0E;AAC1E,eAAe;AAEf,0BAA0B;AAC1B,wDAAwD;AACxD,+DAA+D;AAC/D,mBAAmB;AACnB,WAAW;AACX,uBAAuB;AACvB,qGAAqG;AACrG,WAAW;AACX,oCAAoC;AAGpC,aAAa;AACb,OAAO;AACP,IAAI;;;;;;AAKJ;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAgBe,SAAS,YAAY,EAAE,GAAG,EAAoB;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,cAAc,IAAA,wMAAc;IAElC,MAAM,cAAc,IAAA,6LAAW,EAAC;QAC9B,YAAY,CAAC,UAAwB,IAAA,wHAAU,EAAC;QAChD,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;YACpD,eAAe;QACjB;QACA,SAAS,CAAC;YACR,QAAQ,KAAK,CAAC,qBAAqB;YACnC,MAAM;QACR;IACF;IAEA,MAAM,qBAAqB,CAAC,QAAkB,eAAe;IAE7D,qBACE,8OAAC;;0BACC,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;oBAAQ,cAAc;gBAAO;;kCAC/D,8OAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,OAAO;4BACL,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,cAAc;4BACd,SAAS;4BACT,UAAU;4BACV,QAAQ;4BACR,YAAY;wBACd;wBACA,aAAa,CAAC,IAAO,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;wBAC7D,YAAY,CAAC,IAAO,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;wBAC5D,aAAa,CAAC,IAAO,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;wBACvD,WAAW,CAAC,IAAO,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;kCACtD;;;;;;kCAID,8OAAC,gJAAS;wBAAC,OAAO;wBAAa,UAAU;;;;;;;;;;;;YAG1C,6BACC,8OAAC,wIAAK;gBAAC,SAAS,IAAM,eAAe;0BACnC,cAAA,8OAAC,8IAAQ;oBAAC,SAAS,IAAM,eAAe;;;;;;;;;;;0BAK5C,8OAAC,gJAAS;gBAAC,KAAK,OAAO;;;;;;;;;;;;AAG7B","debugId":null}}]
}